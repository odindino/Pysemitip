# Pysemitip 開發日誌

**專案名稱**: Pysemitip - 現代化Python架構的SEMITIP移植專案  
**開發者### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日
**問題**: 穿隧電流在不同偏壓下顯示相同數值
**原因**: `calculate_simple_stm_current`函數使用平坦電位剖面，未考慮偏壓相關的勢壘變化
**修正**: 
- 實現偏壓相關的梯形勢壘剖面
- 加入鏡像電位修正
- 調整勢壘高度為實際STM條件 (1-2 eV)

**修正結果**:
- Si n型: +1V: 1.50A, -1V: -0.59A (正確的偏壓依賴性)
- GaAs n型: +1V: 6.48A, -1V: -4.56A (符合材料特性)

---

### 第三階段: 幾何和網格層實現 (1-2週) 🚧 規劃中
**目標**: 實現STM幾何建模和網格管理: odindino  
**開始日期**: 2025年6月11日  
**專案目標**: 將Fortran SEMITIP程式移植為現代化Python架構，用於掃描穿隧顯微鏡(STM)的3D有限差分求解器

---

## 專案概述

SEMITIP是一個成熟的Fortran程式，用於模擬掃描穿隧顯微鏡的電子隧穿電流。本專案的目標是將其移植為現代化的Python架構，遵循「物理優先，架構為本」的設計原則。

### 設計原則
- **物理優先**: 確保數值精度和物理正確性
- **架構為本**: 建立清晰的模組化架構
- **分階段實現**: 按照複雜度逐步實現功能
- **驗證導向**: 每個階段都有完整的測試驗證

---

## 階段規劃

### 第一階段: 基礎工具層實現 (1-2週) ✅ 已完成
**目標**: 建立無依賴的數值計算基礎
**時間**: 2025年6月11日

#### 實現內容
- [x] **黃金分割優化算法** (`utils/numerical.py`)
  - 從Fortran GSECT-6.0移植
  - 支援SEMMIN和SURFMIN函數使用
  - 通過精度和收斂性驗證

- [x] **費米-狄拉克相關函數** (`utils/numerical.py`)
  - 費米-狄拉克積分函數 (FJINT)
  - 費米-狄拉克佔據函數 (FD)
  - 支援載流子濃度計算

- [x] **插值工具** (`utils/interpolation.py`)
  - 線性插值 (一維)
  - 三次樣條插值
  - 雙線性插值 (二維)
  - 三線性插值 (三維)

- [x] **數值微積分工具** (`utils/numerical.py`)
  - 數值微分 (前向/後向/中心差分)
  - 自適應積分算法
  - 梯形積分法 (TRAP)

#### 驗證結果
- ✅ 17個測試全部通過
- ✅ 與Fortran GSECT數值一致性驗證
- ✅ 費米-狄拉克函數精度驗證
- ✅ 插值算法準確性驗證

#### 文件結構
```
src/utils/
├── __init__.py          # 模組初始化和API導出
├── numerical.py         # 核心數值計算函數
└── interpolation.py     # 插值工具函數

tests/
├── test_numerical_tools.py                    # 綜合測試套件
└── test_gsect_fortran_compatibility.py        # Fortran兼容性驗證

demos/
├── demo_numerical_tools.py     # 功能演示
└── gsect_demo.png              # 優化演示圖表
```

### 第二階段: 物理模型層實現 (2-3週) ✅ 已完成
**目標**: 實現核心物理計算模組
**時間**: 2025年6月11日

#### 實現內容
- [x] **材料參數管理** (`physics/materials.py`)
  - 半導體材料資料庫 (Si n/p型, GaAs n型, Si本征)
  - 物理常數定義 (與Fortran COMMON塊對應)
  - 表面態參數管理

- [x] **電荷密度計算** (`physics/charge_density.py`)
  - 費米-狄拉克統計 (RHOCB/RHOVB等效)
  - 自洽電荷中性條件求解
  - 摻雜劑離化計算

- [x] **泊松方程求解器** (`physics/poisson.py`)
  - 三維柱坐標有限差分法
  - STM幾何專用網格 (194,560個網格點)
  - 複雜邊界條件處理

- [x] **穿隧電流計算** (`physics/tunneling_current.py`)
  - Bardeen轉移哈密頓方法
  - WKB近似穿隧係數計算
  - **修正**: 修復偏壓相關勢壘剖面問題

#### 驗證結果
- ✅ 27個物理模型測試全部通過 (4分37秒)
- ✅ 電荷中性精度 < 1e10 cm⁻³
- ✅ 穿隧電流顯示正確的偏壓依賴性 (Si n型: +1V→1.50A, -1V→-0.59A)
- ✅ 不同材料顯示合理的電流差異

#### 技術修正記錄
**日期**: 2025年6月11日